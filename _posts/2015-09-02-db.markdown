---
layout: post
title:  "mssql數據庫中用戶登錄賬戶關聯"
date:   2015-09-02
categories: database
---

客戶轉移了新服務器，程序相應遷移，但在新數據庫上創建原連接數據庫賬號后，在給用戶賦數據權限時，發現提示用戶已存在，而這用戶又是剛新創的，不可能啊。。

想想可能是原數據中的用戶信息在恢復到本數據庫后，與我新建的數據庫登錄用戶雖然重名，但未關聯吧，于是嘗試用系統存儲過程執行一下

~~~sql
exec sp_change_users_login 'update_one','tx','tx'

~~~

update_one參數表示只處理一個用戶，后面的兩個'tx'分別為數據庫用的用戶名和當前數據新建的用戶登錄名，執行完成后，問題成功解決。